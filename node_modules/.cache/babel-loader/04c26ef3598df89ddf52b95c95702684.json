{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macbookpro/Documents/GitHub/en-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/macbookpro/Documents/GitHub/en-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/macbookpro/Documents/GitHub/en-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{Field,Form,Formik}from\"formik\";import React,{useEffect,useState}from\"react\";import{useDispatch}from\"react-redux\";import{Spinner}from\"reactstrap\";import{BTN_BG}from\"../../classes\";import{useAppSelector}from\"../../hooks/useRedux\";import{generateString}from\"../../specialFunction/specialFunction\";import{add_word_own_dictionary,add_part_own_dictionary}from\"../../store/slices/authReducer\";import\"./SearchWord.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var arr=[\"firstly\",\"secondly\",\"third\"];var SearchWord=function SearchWord(){var API_BASE=\"https://api.dictionaryapi.dev/api/v2/entries/en/\";var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var ownDictionary=useAppSelector(function(state){return state.auth.dictionary;});var initialState={word:\"\"};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);axios.get(API_BASE+values.word).then(function(d){setData(d.data);setLoading(false);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();useEffect(function(){return console.log(\"update\");},[data]);var dispatchWord=function dispatchWord(obj){var length=ownDictionary.length;//last idx\nif(ownDictionary[length-1].words.length>=30){dispatch(add_part_own_dictionary({part:arr[length],words:[obj]}));}else{dispatch(add_word_own_dictionary(obj));}};return/*#__PURE__*/_jsx(\"div\",{className:\"search-word col-12\",children:/*#__PURE__*/_jsx(Formik,{onSubmit:onSubmit,initialValues:initialState,children:function children(){return/*#__PURE__*/_jsxs(Form,{className:\"search-panel col-12\",children:[/*#__PURE__*/_jsx(Field,{className:\"form-control btn-bg\",placeholder:\"word\",name:\"word\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-panel\",children:loading?/*#__PURE__*/_jsx(Spinner,{}):data===null||data===void 0?void 0:data.map(function(d){var _d$phonetics$,_d$meanings$,_d$meanings$2,_d$meanings$2$definit,_d$meanings$3,_d$meanings$3$definit,_d$meanings$4,_d$meanings$4$definit;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:d.word}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Phonetics:\"}),\" \",d===null||d===void 0?void 0:(_d$phonetics$=d.phonetics[0])===null||_d$phonetics$===void 0?void 0:_d$phonetics$.text]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Meanings:\"}),\" part of speech: \",d===null||d===void 0?void 0:(_d$meanings$=d.meanings[0])===null||_d$meanings$===void 0?void 0:_d$meanings$.partOfSpeech,/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Definitions:\"}),\" \",d===null||d===void 0?void 0:(_d$meanings$2=d.meanings[0])===null||_d$meanings$2===void 0?void 0:(_d$meanings$2$definit=_d$meanings$2.definitions[0])===null||_d$meanings$2$definit===void 0?void 0:_d$meanings$2$definit.definition,/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Synonyms:\"}),\" \",d===null||d===void 0?void 0:(_d$meanings$3=d.meanings[0])===null||_d$meanings$3===void 0?void 0:(_d$meanings$3$definit=_d$meanings$3.definitions[0])===null||_d$meanings$3$definit===void 0?void 0:_d$meanings$3$definit.synonyms.map(function(synonym){return/*#__PURE__*/_jsxs(\"span\",{children:[synonym,\", \"]});}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Example:\"}),\" \",d===null||d===void 0?void 0:(_d$meanings$4=d.meanings[0])===null||_d$meanings$4===void 0?void 0:(_d$meanings$4$definit=_d$meanings$4.definitions[0])===null||_d$meanings$4$definit===void 0?void 0:_d$meanings$4$definit.example,/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Origin\"}),\" \",d===null||d===void 0?void 0:d.origin,/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"button\",{className:BTN_BG,type:\"button\",onClick:function onClick(){return dispatchWord({word:data});},children:\"ADD IN DICTIONARY\"})]},generateString());})})]});}})});};export default SearchWord;","map":{"version":3,"sources":["/Users/macbookpro/Documents/GitHub/en-app/src/component/SearchWord/SearchWord.tsx"],"names":["axios","Field","Form","Formik","React","useEffect","useState","useDispatch","Spinner","BTN_BG","useAppSelector","generateString","add_word_own_dictionary","add_part_own_dictionary","arr","SearchWord","API_BASE","dispatch","data","setData","loading","setLoading","ownDictionary","state","auth","dictionary","initialState","word","onSubmit","values","get","then","d","console","log","dispatchWord","obj","length","words","part","map","phonetics","text","meanings","partOfSpeech","definitions","definition","synonyms","synonym","example","origin"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { Field, Form, Formik } from \"formik\";\nimport React, { useEffect, useState } from \"react\"\nimport { useDispatch } from \"react-redux\";\nimport { Spinner } from \"reactstrap\";\nimport { BTN_BG } from \"../../classes\";\nimport { useAppSelector } from \"../../hooks/useRedux\";\nimport { generateString } from \"../../specialFunction/specialFunction\";\nimport { add_word_own_dictionary, add_part_own_dictionary } from \"../../store/slices/authReducer\";\nimport { WordData } from \"../../store/slices/types\";\nimport \"./SearchWord.scss\";\nconst arr = [\"firstly\", \"secondly\", \"third\"];\n\nconst SearchWord: React.FC = () => {\n  const API_BASE = \"https://api.dictionaryapi.dev/api/v2/entries/en/\";\n  const dispatch = useDispatch();\n\n  const [data, setData] = useState<WordData[]>([]);\n  const [loading, setLoading] = useState(false);\n  const ownDictionary = useAppSelector(state => state.auth.dictionary);\n\n  interface InitialState {\n    word: string\n  }\n\n  const initialState : InitialState= {\n    word: \"\",\n  }\n\n  const onSubmit = async (values: InitialState) => {\n    setLoading(true);\n    axios.get(API_BASE + values.word)\n    .then((d: any) => {\n      setData(d.data);\n      setLoading(false);\n    })\n  };\n\n  useEffect(() => console.log(\"update\"), [data]);\n\n  const dispatchWord = (obj: any) => {\n    const length = ownDictionary.length; //last idx\n    if(ownDictionary[length - 1].words.length >= 30) {\n      dispatch(add_part_own_dictionary({part: arr[length], words: [obj]}));\n    }else {\n      dispatch(add_word_own_dictionary(obj));\n    }\n    \n  }\n\n  return (\n    <div className=\"search-word col-12\">\n      <Formik  \n        onSubmit={onSubmit}\n        initialValues={initialState}\n      >\n        {\n          () => {\n            return (\n              <Form className=\"search-panel col-12\">\n                <Field className=\"form-control btn-bg\" placeholder=\"word\" name=\"word\" />\n                <div className=\"info-panel\">\n                  {\n                    loading? <Spinner /> : (\n                      data?.map((d: WordData) => {\n                        return (\n                          <div key={generateString()}>\n                            <h4>{d.word}</h4>\n                            <p><b>Phonetics:</b> {d?.phonetics[0]?.text}</p>\n                            <p><b>Meanings:</b> part of speech: {d?.meanings[0]?.partOfSpeech}<br /></p>\n                            <p><b>Definitions:</b> {d?.meanings[0]?.definitions[0]?.definition}<br /></p>\n                            <p><b>Synonyms:</b> {d?.meanings[0]?.definitions[0]?.synonyms.map((synonym: string) => <span>{synonym}, </span>)}<br /></p>\n                            <p><b>Example:</b> {d?.meanings[0]?.definitions[0]?.example}<br /></p>\n                            <p><b>Origin</b> {d?.origin}<br /></p>\n                            <button \n                              className={BTN_BG} type=\"button\" \n                              onClick={() => dispatchWord({word: data})}>ADD IN DICTIONARY</button>\n                          </div>\n                        )\n                      })\n                    )\n                  }\n                </div>\n              </Form>\n            )\n          }\n        }\n      </Formik>\n    </div>\n  )\n};\n\nexport default SearchWord;\n"]},"metadata":{},"sourceType":"module"}