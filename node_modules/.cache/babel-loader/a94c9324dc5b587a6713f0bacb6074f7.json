{"ast":null,"code":"import _toConsumableArray from\"/Users/macbookpro/Documents/GitHub/en-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/macbookpro/Documents/GitHub/en-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Form,Formik}from'formik';import{useDispatch,useSelector}from'react-redux';import{makeTest,shuffle,equalAnswerAndWord}from'../../specialFunction/specialFunction';import{push_audited_test}from'../../store/slices/resultReducer';import{reset_test}from\"../../store/slices/testsReducer\";import Options from'../../component/Options/Options';import{ModalNotice}from'../../component/Modal/Modals';import View from'./View';import Timer from'../../component/Timer/Timer';import{optionsForTest}from'../../component/Options/OptionsType';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var makeRandomArr=function makeRandomArr(arr){var randomArr=[];for(var i=0;i<arr;i++){randomArr.push(i);}return randomArr;};var Test=function Test(){var dispatch=useDispatch();var options=useSelector(function(state){return state.options.options;});var gotTest=useSelector(function(state){return state.tests.test;});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),test=_useState2[0],setTest=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),end=_useState6[0],setEnd=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),start=_useState8[0],setStart=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isOptions=_useState10[0],setIsOptions=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),seeResults=_useState12[0],setSeeResults=_useState12[1];var _useState13=useState([1,2,3,4,5,6,7,8,9,0]),_useState14=_slicedToArray(_useState13,2),random=_useState14[0],setRandom=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),startTime=_useState16[0],setStartTime=_useState16[1];var initialValues={answer:'',answers:[]};var _onSubmit=function onSubmit(values){values.answers.push(values.answer);var auditedTest=equalAnswerAndWord(test,values.answers,options,random,startTime);dispatch(push_audited_test(auditedTest));setSeeResults(true);setCount(0);setStart(false);setEnd(true);values.answers=[];values.answer=\"\";};var toggleOptions=function toggleOptions(){return setIsOptions(!isOptions);};var sendAnswer=function sendAnswer(setFieldValue,values){setCount(count+1);setFieldValue(\"answers\",[].concat(_toConsumableArray(values.answers),[values.answer]));setFieldValue(\"answer\",\"\");};var startTest=function startTest(){if(!gotTest){setTest(makeTest(options.words));}else{setTest(gotTest);};var date=new Date();setStartTime(date);setStart(true);setEnd(false);setIsOptions(false);setSeeResults(false);setRandom(shuffle(makeRandomArr(options.words)));dispatch(reset_test());};return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[start&&/*#__PURE__*/_jsx(Timer,{timer:60}),/*#__PURE__*/_jsx(Options,{isOpen:isOptions,setIsOption:function setIsOption(){return setIsOptions(false);},children:optionsForTest}),/*#__PURE__*/_jsx(ModalNotice,{isModal:seeResults,toggle:function toggle(){return setSeeResults(!seeResults);}}),/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,onSubmit:function onSubmit(values){return _onSubmit(values);},children:function children(_ref){var values=_ref.values,setFieldValue=_ref.setFieldValue;return/*#__PURE__*/_jsx(Form,{className:\"pass-test\",children:/*#__PURE__*/_jsx(\"div\",{className:\"pass-test__inner col-12 col-lg-6\",children:/*#__PURE__*/_jsx(View,{test:test,count:count,end:end,start:start,toggleOptions:toggleOptions,options:options,randomWords:random,values:values,setFieldValue:setFieldValue,startTest:startTest,sendAnswer:sendAnswer})})});}})]});};export default Test;","map":{"version":3,"sources":["/Users/macbookpro/Documents/GitHub/en-app/src/Pages/Tests/Tests.tsx"],"names":["React","useState","Form","Formik","useDispatch","useSelector","makeTest","shuffle","equalAnswerAndWord","push_audited_test","reset_test","Options","ModalNotice","View","Timer","optionsForTest","makeRandomArr","arr","randomArr","i","push","Test","dispatch","options","state","gotTest","tests","test","setTest","count","setCount","end","setEnd","start","setStart","isOptions","setIsOptions","seeResults","setSeeResults","random","setRandom","startTime","setStartTime","initialValues","answer","answers","onSubmit","values","auditedTest","toggleOptions","sendAnswer","setFieldValue","startTest","words","date","Date"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport {Form, Formik} from 'formik';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeTest, shuffle, equalAnswerAndWord } from '../../specialFunction/specialFunction';\nimport { push_audited_test } from '../../store/slices/resultReducer';\nimport { reset_test } from \"../../store/slices/testsReducer\";\nimport Options from '../../component/Options/Options';\nimport { ModalNotice } from '../../component/Modal/Modals';\nimport View from './View';\nimport Timer from '../../component/Timer/Timer';\nimport { RootReducer } from '../../store/slices/types';\nimport { InitialValues } from './types';\nimport { optionsForTest } from '../../component/Options/OptionsType';\n\nconst makeRandomArr = (arr: any) => {\n  let randomArr = []; \n\n  for(let i = 0;i < arr; i++) {\n    randomArr.push(i);\n  }\n  return randomArr\n};\n\nconst Test: React.FC = () => {\n  const dispatch = useDispatch();\n\n  const options = useSelector((state: RootReducer) => state.options.options);\n  const gotTest: any = useSelector((state: RootReducer) => state.tests.test);\n  const [test, setTest] = useState([]);\n  const [count, setCount] = useState(0);\n  const [end, setEnd] = useState(false);\n  const [start, setStart] = useState(false);\n  const [isOptions, setIsOptions] = useState(false);\n  const [seeResults, setSeeResults] = useState(false);\n  const [random, setRandom] = useState([1, 2, 3, 4, 5, 6, 7, 8, 9, 0]);\n  const [startTime, setStartTime] = useState<any>(\"\");\n\n  const initialValues: InitialValues = {\n    answer: '',\n    answers: [],\n  };\n\n  const onSubmit = (values: any) => {\n    values.answers.push(values.answer);\n    const auditedTest = equalAnswerAndWord(test, values.answers, options, random, startTime);\n    dispatch(push_audited_test(auditedTest));\n    setSeeResults(true);\n    setCount(0);\n    setStart(false);\n    setEnd(true);\n    values.answers = [];\n    values.answer = \"\";\n  };\n\n  const toggleOptions = () => setIsOptions(!isOptions);\n\n  const sendAnswer = (setFieldValue: Function, values: any) => {\n    setCount(count + 1);\n    setFieldValue(\"answers\", [...values.answers, values.answer]);\n    setFieldValue(\"answer\", \"\");\n  };\n\n  const startTest = () => {\n    if(!gotTest) {\n      setTest(makeTest(options.words));\n    }else {\n      setTest(gotTest);\n    };\n    const date = new Date();\n    setStartTime(date);\n    setStart(true);\n    setEnd(false);\n    setIsOptions(false);\n    setSeeResults(false);\n    setRandom(shuffle(makeRandomArr(options.words)));\n    dispatch(reset_test());\n  };\n\n  return (\n    <div className=\"page\">\n      { start && <Timer timer={60} /> }\n      <Options isOpen={isOptions} setIsOption={() => setIsOptions(false)}> \n        {optionsForTest}\n      </Options>\n\n      <ModalNotice isModal={seeResults} toggle={() => setSeeResults(!seeResults)}/>\n\n      <Formik \n        initialValues={initialValues} \n        onSubmit={(values) => onSubmit(values)} \n      >\n        {({values, setFieldValue}) => {\n          return (\n            <Form className=\"pass-test\">\n              <div className=\"pass-test__inner col-12 col-lg-6\">\n              <View\n                test={test} \n                count={count} \n                end={end}\n                start={start}\n                toggleOptions={toggleOptions}\n                options={options}\n                randomWords={random}\n                values={values}\n                setFieldValue={setFieldValue}\n                startTest={startTest}\n                sendAnswer={sendAnswer}\n              />\n              </div>\n            </Form>\n          )\n        }}\n      </Formik>\n    </div>\n  )\n};\n\nexport default Test;\n"]},"metadata":{},"sourceType":"module"}