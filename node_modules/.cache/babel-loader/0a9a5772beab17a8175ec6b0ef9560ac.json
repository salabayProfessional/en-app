{"ast":null,"code":"import{Field,Formik,Form}from'formik';import React,{useMemo}from'react';import{useDispatch}from'react-redux';import{Button,FormGroup,Label,Table}from'reactstrap';import{INP_BG}from'../../../../classes';import Row from'../../../../component/Row/Row';import{allWords}from'../../../../mockData/words';import{generateString}from'../../../../specialFunction/specialFunction';import{add_home_work}from'../../../../store/slices/authReducer';import{create_test}from'../../../../store/slices/testsReducer';import\"./Create-test.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var splitWordsOnAnd=function splitWordsOnAnd(words){return words.map(function(word){var indexSignAnd=word.indexOf(\"&\");return{en:word.slice(0,indexSignAnd),ua:word.slice(indexSignAnd+1)};// split words on \"&\" en-word&ua-word\n});};var CreateTest=function CreateTest(){var dispatch=useDispatch();var initialValues={name:\"\",amount:10,type:\"en-ua\",timer:60,words:[]};var list=useMemo(function(){return allWords.map(function(word){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:word.en}),/*#__PURE__*/_jsx(\"td\",{children:word.ua}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Field,{type:\"checkbox\",value:\"\".concat(word.en,\"&\").concat(word.ua),name:\"words\"})})]},generateString());});},[]);var _onSubmit=function onSubmit(values,setFieldValue){var words=values.words.map(function(word){var idx=word.indexOf(\"&\");return{en:word.slice(0,idx),ua:word.slice(idx+1)};// split words on \"&\" en-word&ua-word\n});dispatch(create_test({name:values.name,words:words,type:\"en-ua\",options:values.options}));setFieldValue(\"name\",\"\");setFieldValue(\"timer\",60);setFieldValue(\"amount\",10);setFieldValue(\"type\",\"en-ua\");setFieldValue(\"words\",[]);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"create-test\",children:/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,onSubmit:function onSubmit(values,_ref){var setFieldValue=_ref.setFieldValue;return _onSubmit(values,setFieldValue);},children:function children(_ref2){var values=_ref2.values,handleSubmit=_ref2.handleSubmit;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Form,{className:\"crete-test__inner\",children:/*#__PURE__*/_jsx(Row,{leftWidth:9,Left:/*#__PURE__*/_jsx(Table,{className:\"bg-light\",children:/*#__PURE__*/_jsx(\"tbody\",{children:list})}),fixed:\"right\",rightWidth:3,Right:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"Name\",children:\"Name\"}),/*#__PURE__*/_jsx(Field,{className:INP_BG,type:\"text\",placeholder:\"name\",name:\"name\",id:\"Name\"})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"Type\",children:\"Type\"}),/*#__PURE__*/_jsxs(Field,{className:INP_BG,as:\"select\",name:\"type\",id:\"Type\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"EN - UA\"}),/*#__PURE__*/_jsx(\"option\",{children:\"UA - EN\"})]})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"Amount\",children:\"Amount\"}),/*#__PURE__*/_jsxs(Field,{className:INP_BG,as:\"select\",name:\"amount\",id:\"Amount\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{children:\"15\"}),/*#__PURE__*/_jsx(\"option\",{children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{children:\"25\"}),/*#__PURE__*/_jsx(\"option\",{children:\"30\"})]})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"Timer\",children:\"Timer\"}),/*#__PURE__*/_jsxs(Field,{className:INP_BG,as:\"select\",name:\"timer\",id:\"Timer\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"30\"}),/*#__PURE__*/_jsx(\"option\",{children:\"60\"}),/*#__PURE__*/_jsx(\"option\",{children:\"90\"}),/*#__PURE__*/_jsx(\"option\",{children:\"120\"}),/*#__PURE__*/_jsx(\"option\",{children:\"150\"})]})]}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(Button,{className:\"form-control btn-bg\",color:\"success\",type:\"button\",onClick:function onClick(){if(values.words.length!==values.amount){return alert(\"You need to select a \".concat(values.amount));}else{alert(\"success\");handleSubmit();}},children:\"CREATE\"})}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(Button,{className:\"form-control btn-bg\",color:\"success\",type:\"button\",onClick:function onClick(){dispatch(add_home_work({name:values.name,words:splitWordsOnAnd(values.words)}));},children:\"CREATE HOMEWORK\"})}),/*#__PURE__*/_jsxs(\"h6\",{className:\"title\",children:[\"Words selected: \",values.words.length]})]})})})});}})})});};export default CreateTest;","map":{"version":3,"sources":["/Users/macbookpro/Documents/GitHub/en-app/src/Pages/Profile/underPages/Create-test/Cteate-test.tsx"],"names":["Field","Formik","Form","React","useMemo","useDispatch","Button","FormGroup","Label","Table","INP_BG","Row","allWords","generateString","add_home_work","create_test","splitWordsOnAnd","words","map","word","indexSignAnd","indexOf","en","slice","ua","CreateTest","dispatch","initialValues","name","amount","type","timer","list","onSubmit","values","setFieldValue","idx","options","handleSubmit","length","alert"],"mappings":"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","sourcesContent":["import { Field, Formik, Form } from 'formik';\nimport React, { useMemo } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Button, FormGroup, Label, Table } from 'reactstrap';\nimport { INP_BG } from '../../../../classes';\nimport Row from '../../../../component/Row/Row';\nimport { allWords } from '../../../../mockData/words';\nimport { generateString } from '../../../../specialFunction/specialFunction';\nimport { add_home_work } from '../../../../store/slices/authReducer';\nimport { create_test } from '../../../../store/slices/testsReducer';\nimport \"./Create-test.scss\";\nimport { InitialValues } from './types';\n\nconst splitWordsOnAnd = (words: string[]) => {\n  return words.map((word: string) => {\n    const indexSignAnd = word.indexOf(\"&\");\n    return {en: word.slice(0, indexSignAnd), ua: word.slice(indexSignAnd + 1)};// split words on \"&\" en-word&ua-word\n  });\n}\n\nconst CreateTest: React.FC = () => {\n  const dispatch = useDispatch();\n\n  const initialValues: InitialValues = {\n    name: \"\",\n    amount: 10,\n    type: \"en-ua\",\n    timer: 60,\n    words: [],\n  }\n\n  const list = useMemo(() => {\n    return allWords.map((word: {en: string, ua: string}) => {\n      return (\n        <tr key={generateString()}>\n          <td>{word.en}</td>\n          <td>{word.ua}</td>\n          <th>\n            <Field type=\"checkbox\" value={`${word.en}&${word.ua}`} name=\"words\" />\n          </th>\n        </tr>\n      )\n    })\n  }, []);\n\n  const onSubmit = (values: any, setFieldValue: any) => {\n      const words = values.words.map((word: string) => {\n        const idx = word.indexOf(\"&\");\n        return {en: word.slice(0, idx), ua: word.slice(idx + 1)};// split words on \"&\" en-word&ua-word\n      });\n  \n      dispatch(create_test({\n        name: values.name,\n        words: words,\n        type: \"en-ua\",\n        options: values.options\n      }));\n      \n      setFieldValue(\"name\", \"\");\n      setFieldValue(\"timer\", 60);\n      setFieldValue(\"amount\", 10);\n      setFieldValue(\"type\", \"en-ua\");\n      setFieldValue(\"words\", []);\n  };\n\n  return (\n    <>\n    <div className=\"create-test\">\n      <Formik initialValues={initialValues} onSubmit={(values, {setFieldValue}) => onSubmit(values, setFieldValue)}>\n        {({values, handleSubmit}) => {\n          return (\n            <>\n              <Form className=\"crete-test__inner\">\n                <Row \n                  leftWidth={9}\n                  Left={(\n                      <Table className=\"bg-light\">\n                        <tbody>\n                          {\n                            list\n                          }\n                        </tbody>\n                      </Table>\n                  )} \n                  fixed={\"right\"}\n                  rightWidth={3}\n                  Right={(\n                    <>\n                      <FormGroup>\n                        <Label for=\"Name\">Name</Label>\n                        <Field className={INP_BG} type=\"text\" placeholder=\"name\" name=\"name\" id=\"Name\" />\n                      </FormGroup>\n                      <FormGroup>\n                        <Label for=\"Type\">Type</Label>\n                        <Field className={INP_BG} as=\"select\" name=\"type\" id=\"Type\">\n                          <option>EN - UA</option>\n                          <option>UA - EN</option>\n                        </Field>\n                      </FormGroup>\n                      <FormGroup>\n                        <Label for=\"Amount\">Amount</Label>\n                        <Field className={INP_BG} as=\"select\" name=\"amount\" id=\"Amount\">\n                          <option>10</option>\n                          <option>15</option>\n                          <option>20</option>\n                          <option>25</option>\n                          <option>30</option>\n                        </Field>\n                      </FormGroup>\n                      <FormGroup>\n                        <Label for=\"Timer\">Timer</Label>\n                        <Field className={INP_BG} as=\"select\" name=\"timer\" id=\"Timer\">\n                          <option>30</option>\n                          <option>60</option>\n                          <option>90</option>\n                          <option>120</option>\n                          <option>150</option>\n                        </Field>\n                      </FormGroup>\n                      <FormGroup>\n                        <Button \n                          className=\"form-control btn-bg\" \n                          color=\"success\" \n                          type=\"button\" \n                          onClick={() => {\n                            if(values.words.length !== values.amount) {\n                              return alert(`You need to select a ${values.amount}`)\n                            } else {\n                              alert(\"success\");\n                              handleSubmit();\n                            }\n                        }}\n                        >\n                          CREATE\n                        </Button>\n                      </FormGroup>\n                      <FormGroup>\n                        <Button \n                          className=\"form-control btn-bg\" \n                          color=\"success\" \n                          type=\"button\" \n                          onClick={() => {\n                            dispatch(add_home_work({name: values.name, words: splitWordsOnAnd(values.words as any)}));\n                        }}\n                        >\n                          CREATE HOMEWORK\n                        </Button>\n                      </FormGroup>\n                      <h6 className=\"title\">Words selected: {values.words.length}</h6>\n                    </>\n                  )}/>\n                </Form>\n              </>\n            )\n          }}\n        </Formik>\n      </div>\n    </>\n  );\n};\n\nexport default CreateTest;"]},"metadata":{},"sourceType":"module"}