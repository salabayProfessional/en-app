import _slicedToArray from "@babel/runtime/helpers/esm/slicedToArray";
import _extends from "@babel/runtime/helpers/esm/extends";
import React, { useState } from 'react';
import { render } from '@testing-library/react';
import userEvent from '@testing-library/user-event';
import { TextInput, TextInputField } from '../';

function makeTextInputFixture() {
  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return /*#__PURE__*/React.createElement(TextInput, _extends({
    "data-testid": "input"
  }, props));
}

makeTextInputFixture.displayName = "makeTextInputFixture";

function makeTextInputFieldFixture() {
  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return /*#__PURE__*/React.createElement(TextInputField, _extends({
    "data-testid": "input",
    label: "Name"
  }, props));
}

makeTextInputFieldFixture.displayName = "makeTextInputFieldFixture";
describe('TextInput', function () {
  it('Should render without crashing', function () {
    expect(function () {
      return render(makeTextInputFixture());
    }).not.toThrow();
  });
  it('Should accept placeholder text', function () {
    var _render = render(makeTextInputFixture({
      placeholder: 'Enter text here'
    })),
        getByPlaceholderText = _render.getByPlaceholderText;

    expect(getByPlaceholderText('Enter text here')).toBeInTheDocument();
  });
  it('Should set an invalid state if `isInvalid` is `true`', function () {
    var _render2 = render(makeTextInputFixture({
      isInvalid: true
    })),
        getByTestId = _render2.getByTestId;

    var input = getByTestId('input');
    expect(input).toHaveAttribute('aria-invalid', 'true');
  });
  it('Should accept an `onChange` handler to be a controlled component', function () {
    function ControlledTextInput() {
      var _useState = useState(''),
          _useState2 = _slicedToArray(_useState, 2),
          value = _useState2[0],
          setValue = _useState2[1];

      return /*#__PURE__*/React.createElement(TextInput, {
        "data-testid": "input",
        placeholder: "Enter text here",
        value: value,
        onChange: function onChange(e) {
          return setValue(e.target.value);
        }
      });
    }

    var _render3 = render( /*#__PURE__*/React.createElement(ControlledTextInput, null)),
        getByDisplayValue = _render3.getByDisplayValue,
        getByTestId = _render3.getByTestId;

    var input = getByTestId('input');
    userEvent.click(input);
    expect(document.activeElement).toEqual(input);
    userEvent.type(input, 'Testing');
    expect(getByDisplayValue('Testing')).toEqual(input);
  });
  it('Should not be interactive if `disabled` is passed in', function () {
    var _render4 = render(makeTextInputFixture({
      disabled: true
    })),
        getByDisplayValue = _render4.getByDisplayValue,
        getByTestId = _render4.getByTestId;

    var input = getByTestId('input');
    userEvent.type(input, 'Testing');
    expect(function () {
      return getByDisplayValue('Testing');
    }).toThrowError();
    expect(getByDisplayValue('')).toEqual(input);
  });
});
describe('TextInputField', function () {
  it('Should render without crashing', function () {
    expect(function () {
      return render(makeTextInputFieldFixture());
    }).not.toThrow();
  });
  it('Should render a required `label` when passed in', function () {
    var _render5 = render(makeTextInputFieldFixture()),
        getByLabelText = _render5.getByLabelText;

    expect(getByLabelText('Name')).toBeInTheDocument();
  });
  it('Should render a `hint` underneath the input', function () {
    var _render6 = render(makeTextInputFieldFixture({
      hint: 'Enter a value in the input'
    })),
        getByText = _render6.getByText;

    expect(getByText('Enter a value in the input')).toBeInTheDocument();
  });
  it('Should render an astrix when `required` is passed in', function () {
    var _render7 = render(makeTextInputFieldFixture({
      required: true
    })),
        getByTitle = _render7.getByTitle;

    expect(getByTitle('This field is required.')).toBeInTheDocument();
  });
  it('Should not render a `validationMessage` when passed in', function () {
    var _render8 = render(makeTextInputFieldFixture({
      validationMessage: 'Please enter a value'
    })),
        getByText = _render8.getByText;

    expect(getByText('Please enter a value')).toBeInTheDocument();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZXh0LWlucHV0L19fdGVzdHNfXy9UZXh0SW5wdXQudGVzdC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwicmVuZGVyIiwidXNlckV2ZW50IiwiVGV4dElucHV0IiwiVGV4dElucHV0RmllbGQiLCJtYWtlVGV4dElucHV0Rml4dHVyZSIsInByb3BzIiwibWFrZVRleHRJbnB1dEZpZWxkRml4dHVyZSIsImRlc2NyaWJlIiwiaXQiLCJleHBlY3QiLCJub3QiLCJ0b1Rocm93IiwicGxhY2Vob2xkZXIiLCJnZXRCeVBsYWNlaG9sZGVyVGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwiaXNJbnZhbGlkIiwiZ2V0QnlUZXN0SWQiLCJpbnB1dCIsInRvSGF2ZUF0dHJpYnV0ZSIsIkNvbnRyb2xsZWRUZXh0SW5wdXQiLCJ2YWx1ZSIsInNldFZhbHVlIiwiZSIsInRhcmdldCIsImdldEJ5RGlzcGxheVZhbHVlIiwiY2xpY2siLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJ0b0VxdWFsIiwidHlwZSIsImRpc2FibGVkIiwidG9UaHJvd0Vycm9yIiwiZ2V0QnlMYWJlbFRleHQiLCJoaW50IiwiZ2V0QnlUZXh0IiwicmVxdWlyZWQiLCJnZXRCeVRpdGxlIiwidmFsaWRhdGlvbk1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBT0EsS0FBUCxJQUFnQkMsUUFBaEIsUUFBZ0MsT0FBaEM7QUFDQSxTQUFTQyxNQUFULFFBQXVCLHdCQUF2QjtBQUNBLE9BQU9DLFNBQVAsTUFBc0IsNkJBQXRCO0FBQ0EsU0FBU0MsU0FBVCxFQUFvQkMsY0FBcEIsUUFBMEMsS0FBMUM7O0FBRUEsU0FBU0Msb0JBQVQsR0FBMEM7QUFBQSxNQUFaQyxLQUFZLHVFQUFKLEVBQUk7QUFDeEMsc0JBQU8sb0JBQUMsU0FBRDtBQUFXLG1CQUFZO0FBQXZCLEtBQW1DQSxLQUFuQyxFQUFQO0FBQ0Q7O0FBRlFELG9COztBQUlULFNBQVNFLHlCQUFULEdBQStD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RCxtQkFBdUJSLE1BQU0sQ0FBQ00seUJBQXlCLENBQUM7QUFBRTZCLE1BQUFBLFFBQVEsRUFBRTtBQUFaLEtBQUQsQ0FBMUIsQ0FBN0I7QUFBQSxRQUFRQyxVQUFSLFlBQVFBLFVBQVI7O0FBQ0EzQixJQUFBQSxNQUFNLENBQUMyQixVQUFVLENBQUMseUJBQUQsQ0FBWCxDQUFOLENBQThDdEIsaUJBQTlDO0FBQ0QsR0FIQyxDQUFGO0FBS0FOLEVBQUFBLEVBQUUsQ0FBQyx3REFBRCxFQUEyRCxZQUFNO0FBQ2pFLG1CQUFzQlIsTUFBTSxDQUFDTSx5QkFBeUIsQ0FBQztBQUFFK0IsTUFBQUEsaUJBQWlCLEVBQUU7QUFBckIsS0FBRCxDQUExQixDQUE1QjtBQUFBLFFBQVFILFNBQVIsWUFBUUEsU0FBUjs7QUFDQXpCLElBQUFBLE1BQU0sQ0FBQ3lCLFNBQVMsQ0FBQyxzQkFBRCxDQUFWLENBQU4sQ0FBMENwQixpQkFBMUM7QUFDRCxHQUhDLENBQUY7QUFJRCxDQXhCTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyByZW5kZXIgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0J1xuaW1wb3J0IHVzZXJFdmVudCBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQnXG5pbXBvcnQgeyBUZXh0SW5wdXQsIFRleHRJbnB1dEZpZWxkIH0gZnJvbSAnLi4vJ1xuXG5mdW5jdGlvbiBtYWtlVGV4dElucHV0Rml4dHVyZShwcm9wcyA9IHt9KSB7XG4gIHJldHVybiA8VGV4dElucHV0IGRhdGEtdGVzdGlkPVwiaW5wdXRcIiB7Li4ucHJvcHN9IC8+XG59XG5cbmZ1bmN0aW9uIG1ha2VUZXh0SW5wdXRGaWVsZEZpeHR1cmUocHJvcHMgPSB7fSkge1xuICByZXR1cm4gPFRleHRJbnB1dEZpZWxkIGRhdGEtdGVzdGlkPVwiaW5wdXRcIiBsYWJlbD1cIk5hbWVcIiB7Li4ucHJvcHN9IC8+XG59XG5cbmRlc2NyaWJlKCdUZXh0SW5wdXQnLCAoKSA9PiB7XG4gIGl0KCdTaG91bGQgcmVuZGVyIHdpdGhvdXQgY3Jhc2hpbmcnLCAoKSA9PiB7XG4gICAgZXhwZWN0KCgpID0+IHJlbmRlcihtYWtlVGV4dElucHV0Rml4dHVyZSgpKSkubm90LnRvVGhyb3coKVxuICB9KVxuXG4gIGl0KCdTaG91bGQgYWNjZXB0IHBsYWNlaG9sZGVyIHRleHQnLCAoKSA9PiB7XG4gICAgY29uc3QgeyBnZXRCeVBsYWNlaG9sZGVyVGV4dCB9ID0gcmVuZGVyKG1ha2VUZXh0SW5wdXRGaXh0dXJlKHsgcGxhY2Vob2xkZXI6ICdFbnRlciB0ZXh0IGhlcmUnIH0pKVxuICAgIGV4cGVjdChnZXRCeVBsYWNlaG9sZGVyVGV4dCgnRW50ZXIgdGV4dCBoZXJlJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgfSlcblxuICBpdCgnU2hvdWxkIHNldCBhbiBpbnZhbGlkIHN0YXRlIGlmIGBpc0ludmFsaWRgIGlzIGB0cnVlYCcsICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIobWFrZVRleHRJbnB1dEZpeHR1cmUoeyBpc0ludmFsaWQ6IHRydWUgfSkpXG4gICAgY29uc3QgaW5wdXQgPSBnZXRCeVRlc3RJZCgnaW5wdXQnKVxuICAgIGV4cGVjdChpbnB1dCkudG9IYXZlQXR0cmlidXRlKCdhcmlhLWludmFsaWQnLCAndHJ1ZScpXG4gIH0pXG5cbiAgaXQoJ1Nob3VsZCBhY2NlcHQgYW4gYG9uQ2hhbmdlYCBoYW5kbGVyIHRvIGJlIGEgY29udHJvbGxlZCBjb21wb25lbnQnLCAoKSA9PiB7XG4gICAgZnVuY3Rpb24gQ29udHJvbGxlZFRleHRJbnB1dCgpIHtcbiAgICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUoJycpXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VGV4dElucHV0XG4gICAgICAgICAgZGF0YS10ZXN0aWQ9XCJpbnB1dFwiXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciB0ZXh0IGhlcmVcIlxuICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRWYWx1ZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgeyBnZXRCeURpc3BsYXlWYWx1ZSwgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcig8Q29udHJvbGxlZFRleHRJbnB1dCAvPilcbiAgICBjb25zdCBpbnB1dCA9IGdldEJ5VGVzdElkKCdpbnB1dCcpXG4gICAgdXNlckV2ZW50LmNsaWNrKGlucHV0KVxuICAgIGV4cGVjdChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS50b0VxdWFsKGlucHV0KVxuICAgIHVzZXJFdmVudC50eXBlKGlucHV0LCAnVGVzdGluZycpXG4gICAgZXhwZWN0KGdldEJ5RGlzcGxheVZhbHVlKCdUZXN0aW5nJykpLnRvRXF1YWwoaW5wdXQpXG4gIH0pXG5cbiAgaXQoJ1Nob3VsZCBub3QgYmUgaW50ZXJhY3RpdmUgaWYgYGRpc2FibGVkYCBpcyBwYXNzZWQgaW4nLCAoKSA9PiB7XG4gICAgY29uc3QgeyBnZXRCeURpc3BsYXlWYWx1ZSwgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcihtYWtlVGV4dElucHV0Rml4dHVyZSh7IGRpc2FibGVkOiB0cnVlIH0pKVxuICAgIGNvbnN0IGlucHV0ID0gZ2V0QnlUZXN0SWQoJ2lucHV0JylcbiAgICB1c2VyRXZlbnQudHlwZShpbnB1dCwgJ1Rlc3RpbmcnKVxuICAgIGV4cGVjdCgoKSA9PiBnZXRCeURpc3BsYXlWYWx1ZSgnVGVzdGluZycpKS50b1Rocm93RXJyb3IoKVxuICAgIGV4cGVjdChnZXRCeURpc3BsYXlWYWx1ZSgnJykpLnRvRXF1YWwoaW5wdXQpXG4gIH0pXG59KVxuXG5kZXNjcmliZSgnVGV4dElucHV0RmllbGQnLCAoKSA9PiB7XG4gIGl0KCdTaG91bGQgcmVuZGVyIHdpdGhvdXQgY3Jhc2hpbmcnLCAoKSA9PiB7XG4gICAgZXhwZWN0KCgpID0+IHJlbmRlcihtYWtlVGV4dElucHV0RmllbGRGaXh0dXJlKCkpKS5ub3QudG9UaHJvdygpXG4gIH0pXG5cbiAgaXQoJ1Nob3VsZCByZW5kZXIgYSByZXF1aXJlZCBgbGFiZWxgIHdoZW4gcGFzc2VkIGluJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0QnlMYWJlbFRleHQgfSA9IHJlbmRlcihtYWtlVGV4dElucHV0RmllbGRGaXh0dXJlKCkpXG4gICAgZXhwZWN0KGdldEJ5TGFiZWxUZXh0KCdOYW1lJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgfSlcblxuICBpdCgnU2hvdWxkIHJlbmRlciBhIGBoaW50YCB1bmRlcm5lYXRoIHRoZSBpbnB1dCcsICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKG1ha2VUZXh0SW5wdXRGaWVsZEZpeHR1cmUoeyBoaW50OiAnRW50ZXIgYSB2YWx1ZSBpbiB0aGUgaW5wdXQnIH0pKVxuICAgIGV4cGVjdChnZXRCeVRleHQoJ0VudGVyIGEgdmFsdWUgaW4gdGhlIGlucHV0JykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgfSlcblxuICBpdCgnU2hvdWxkIHJlbmRlciBhbiBhc3RyaXggd2hlbiBgcmVxdWlyZWRgIGlzIHBhc3NlZCBpbicsICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGl0bGUgfSA9IHJlbmRlcihtYWtlVGV4dElucHV0RmllbGRGaXh0dXJlKHsgcmVxdWlyZWQ6IHRydWUgfSkpXG4gICAgZXhwZWN0KGdldEJ5VGl0bGUoJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQuJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgfSlcblxuICBpdCgnU2hvdWxkIG5vdCByZW5kZXIgYSBgdmFsaWRhdGlvbk1lc3NhZ2VgIHdoZW4gcGFzc2VkIGluJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIobWFrZVRleHRJbnB1dEZpZWxkRml4dHVyZSh7IHZhbGlkYXRpb25NZXNzYWdlOiAnUGxlYXNlIGVudGVyIGEgdmFsdWUnIH0pKVxuICAgIGV4cGVjdChnZXRCeVRleHQoJ1BsZWFzZSBlbnRlciBhIHZhbHVlJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgfSlcbn0pXG4iXX0=